extends layout

block content
  div#titleContainer
    h1 
      | Live stock tracker
  p.faded
    | YYYY MM DD&nbsp;&nbsp;-&nbsp;&nbsp;YYYY MM DD
  div#datePickerContainer
    input( type="text" id="datePickerStart")
    | -
    input( type="text" id="datePickerEnd")
  canvas#mainChart
  div#legend
  
  div#addStockContainer
    div#nasdaqContainer
      h3 
        | Search stock
      form#nasdaqForm
        input( type="text" id="nasdaqQuery" placeholder="Stock Code" required )
        input( type="submit" id="submit" value="Add" )

  p#footer
    | *built by 
    a(href="https://twitter.com/Demiacle") Daniel Escobedo:@Demiacle
    |  using 
    a(href="https://www.npmjs.com/package/google-finance") google-finance 
    | and 
    a(href="https://github.com/dbushell/Pikaday") Pikaday
  

  // *****SCRIPTS*****
  script.
    var demiacleVars = {
      stocks: JSON.parse('!{stocks}'),
      startDate: '!{startDate}',
      endDate: '!{endDate}'
    }
  script( src="bundle.js" )
  script.
    
    // '!{variable}' renders a pug unescaped string
    // Render pug variable TODO remove from global
    /*
    var stocks = JSON.parse('!{stocks}')
    var startDate = '!{startDate}'
    var endDate = '!{endDate}'
    script(src="/javascripts/datePickerLogic.js")
    script(src="/javascripts/initializeChart.js")
    script(src="/javascripts/websocketLogic.js")
    */
